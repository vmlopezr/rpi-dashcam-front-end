(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"0ZNv":function(l,n,t){"use strict";t.r(n);var e=t("8Y7J"),i=t("EnSQ"),u=t("ZZ/e");class o{constructor(l,n,t){this.http=l,this.dataService=n,this.app=t,this.storageDirectory="",this.ionViewDidEnter=()=>{const l=this.dataService.getScrollPosition();this.content.scrollToPoint(0,l,200)},this.saveScrollPos=()=>{this.content.getScrollElement().then(l=>{this.dataService.setScrollPosition(l.scrollTop)})};const e=localStorage.getItem("dirData");e&&(this.dirData=JSON.parse(e))}ngOnInit(){this.getDirs()}addRow(){this.dirData.push("new")}trackByFn(l,n){return l}ionViewWillLeave(){this.saveScrollPos()}removeVideo(l){setTimeout(()=>{this.dirData.splice(this.dirData.indexOf(l),1),this.dirData=[...this.dirData],this.dataService.updateRecordings(this.dirData),this.app.tick()},0)}getDirs(){const l=this.dataService.getRecordings();localStorage.setItem("dirData",JSON.stringify(l)),this.dirData=[...l]}}class a{}var r=t("pMnS"),c=t("iInd"),s=t("SVse"),b=t("oBZk"),d=t("mrSG");class p{constructor(l,n,t){this.http=l,this.dataService=n,this.alertController=t,this.deleteEvent=new e.r}getVideoPath(){return"/local-stream/"+this.data}getThumbnail(){return"assets/icon/default-image.jpg"}getDate(){const l=this.data.substr(0,this.data.indexOf("-")).split("_");return`${l[0]} ${parseInt(l[1])}, ${l[2]}`}getTime(){const l=this.data.substr(0,this.data.lastIndexOf(".")),n=l.indexOf("-")+1,t=l.substr(n,l.length).split(".");return`${t[0]}:${t[1]}:${t[2]} ${t[3]}`}deleteFile(){this.deleteEvent.emit(this.data)}downloadPress(){alert("This is a demo of the application.")}deleteAlertConfirm(){return d.b(this,void 0,void 0,(function*(){const l=yield this.alertController.create({header:"Warning",message:"Video will be deleted. Are you sure?",mode:"ios",buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>{this.deleteFile()}}]});yield l.present()}))}}var m=t("IheW"),h=e.zb({encapsulation:0,styles:[["ion-thumbnail[_ngcontent-%COMP%]{min-width:90px;min-height:90px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:center;justify-content:flex-start;height:auto;width:100%}.image-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:center;justify-content:flex-start;height:100%;width:100%}.container[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{padding-left:8px}.label-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-content:flex-start;width:100%}.iconContainer[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:30px;margin-bottom:2px}.iconContainer[_ngcontent-%COMP%]{display:flex;position:relative;justify-content:flex-end;align-content:flex-end}.menu-label[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{padding-top:0;margin:0;font-size:20px;position:absolute;bottom:8px}.menu-label[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:16px;position:absolute;bottom:8px;left:40px}.iconContainer[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}"]],data:{}});function g(l){return e.Sb(0,[(l()(),e.Bb(0,0,null,null,30,"div",[["class","container"]],null,null,null,null,null)),(l()(),e.Bb(1,0,null,null,13,"div",[["class","image-container"],["routerDirection","root"]],null,[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==e.Nb(l,2).onClick()&&i),"click"===n&&(i=!1!==e.Nb(l,3).onClick(t)&&i),i}),null,null)),e.Ab(2,16384,null,0,c.n,[c.m,c.a,[8,null],e.K,e.p],{routerLink:[0,"routerLink"]},null),e.Ab(3,737280,null,0,u.Jb,[s.g,u.Gb,e.p,c.m,[2,c.n]],{routerDirection:[0,"routerDirection"]},null),(l()(),e.Bb(4,0,null,null,3,"ion-thumbnail",[],null,null,null,b.P,b.s)),e.Ab(5,49152,null,0,u.zb,[e.j,e.p,e.F],null,null),(l()(),e.Bb(6,0,null,0,1,"ion-img",[],null,null,null,b.G,b.j)),e.Ab(7,49152,null,0,u.D,[e.j,e.p,e.F],{src:[0,"src"]},null),(l()(),e.Bb(8,0,null,null,6,"div",[["class","label-container"]],null,null,null,null,null)),(l()(),e.Bb(9,0,null,null,2,"ion-label",[["class","title"]],null,null,null,b.J,b.m)),e.Ab(10,49152,null,0,u.N,[e.j,e.p,e.F],null,null),(l()(),e.Rb(11,0,[" "," "])),(l()(),e.Bb(12,0,null,null,2,"ion-label",[["class","sub-title"]],null,null,null,b.J,b.m)),e.Ab(13,49152,null,0,u.N,[e.j,e.p,e.F],null,null),(l()(),e.Rb(14,0,[" "," "])),(l()(),e.Bb(15,0,null,null,15,"div",[["class","iconContainer"]],null,null,null,null,null)),(l()(),e.Bb(16,0,null,null,1,"ion-icon",[["class","icon"],["name","more"],["on",""]],null,null,null,b.F,b.i)),e.Ab(17,49152,null,0,u.C,[e.j,e.p,e.F],{name:[0,"name"]},null),(l()(),e.Bb(18,0,null,null,12,"div",[["class","dropdown-content"],["id","dropdown"]],null,null,null,null,null)),(l()(),e.Bb(19,0,null,null,5,"div",[["class","menu-label"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.downloadPress()&&e),e}),null,null)),(l()(),e.Bb(20,0,null,null,1,"ion-icon",[["name","md-download"]],null,null,null,b.F,b.i)),e.Ab(21,49152,null,0,u.C,[e.j,e.p,e.F],{name:[0,"name"]},null),(l()(),e.Bb(22,0,null,null,2,"ion-label",[],null,null,null,b.J,b.m)),e.Ab(23,49152,null,0,u.N,[e.j,e.p,e.F],null,null),(l()(),e.Rb(-1,0,["Download"])),(l()(),e.Bb(25,0,null,null,5,"div",[["class","menu-label"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.deleteAlertConfirm()&&e),e}),null,null)),(l()(),e.Bb(26,0,null,null,1,"ion-icon",[["name","ios-trash"]],null,null,null,b.F,b.i)),e.Ab(27,49152,null,0,u.C,[e.j,e.p,e.F],{name:[0,"name"]},null),(l()(),e.Bb(28,0,null,null,2,"ion-label",[],null,null,null,b.J,b.m)),e.Ab(29,49152,null,0,u.N,[e.j,e.p,e.F],null,null),(l()(),e.Rb(-1,0,["Delete"]))],(function(l,n){var t=n.component;l(n,2,0,e.Fb(1,"",t.getVideoPath(),"")),l(n,3,0,"root"),l(n,7,0,t.getThumbnail()),l(n,17,0,"more"),l(n,21,0,"md-download"),l(n,27,0,"ios-trash")}),(function(l,n){var t=n.component;l(n,11,0,t.getDate()),l(n,14,0,t.getTime())}))}function f(l){return e.Sb(0,[(l()(),e.Bb(0,0,null,null,1,"app-input-row",[],null,null,null,g,h)),e.Ab(1,49152,null,0,p,[m.c,i.a,u.a],null,null)],null,null)}var v=e.xb("app-input-row",p,f,{data:"data"},{deleteEvent:"deleteEvent"},[]),x=e.zb({encapsulation:2,styles:[],data:{}});function C(l){return e.Sb(0,[(l()(),e.Bb(0,0,null,null,2,"div",[["class","video-item"],["style","font-size:smaller"]],null,null,null,null,null)),(l()(),e.Bb(1,0,null,null,1,"app-input-row",[],null,[[null,"deleteEvent"]],(function(l,n,t){var e=!0;return"deleteEvent"===n&&(e=!1!==l.component.removeVideo(t)&&e),e}),g,h)),e.Ab(2,49152,null,0,p,[m.c,i.a,u.a],{data:[0,"data"]},{deleteEvent:"deleteEvent"})],(function(l,n){l(n,2,0,n.context.$implicit)}),null)}function k(l){return e.Sb(0,[e.Pb(402653184,1,{content:0}),(l()(),e.Bb(1,0,null,null,13,"ion-header",[],null,null,null,b.E,b.h)),e.Ab(2,49152,null,0,u.B,[e.j,e.p,e.F],null,null),(l()(),e.Bb(3,0,null,0,11,"ion-toolbar",[["class","header"],["color","primary"],["mode","ios"]],null,null,null,b.S,b.v)),e.Ab(4,49152,null,0,u.Cb,[e.j,e.p,e.F],{color:[0,"color"],mode:[1,"mode"]},null),(l()(),e.Bb(5,0,null,0,6,"ion-buttons",[["slot","start"]],null,null,null,b.A,b.d)),e.Ab(6,49152,null,0,u.l,[e.j,e.p,e.F],null,null),(l()(),e.Bb(7,0,null,0,4,"ion-back-button",[["class","ion-text-capitalize"],["defaultHref",""],["routerDirection","root"],["routerLink","/home"],["text","home"]],null,[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==e.Nb(l,9).onClick(t)&&i),"click"===n&&(i=!1!==e.Nb(l,10).onClick()&&i),"click"===n&&(i=!1!==e.Nb(l,11).onClick(t)&&i),i}),b.y,b.b)),e.Ab(8,49152,null,0,u.g,[e.j,e.p,e.F],{defaultHref:[0,"defaultHref"],text:[1,"text"]},null),e.Ab(9,16384,null,0,u.h,[[2,u.ib],u.Gb],{defaultHref:[0,"defaultHref"]},null),e.Ab(10,16384,null,0,c.n,[c.m,c.a,[8,null],e.K,e.p],{routerLink:[0,"routerLink"]},null),e.Ab(11,737280,null,0,u.Jb,[s.g,u.Gb,e.p,c.m,[2,c.n]],{routerDirection:[0,"routerDirection"]},null),(l()(),e.Bb(12,0,null,0,2,"ion-title",[],null,null,null,b.Q,b.t)),e.Ab(13,49152,null,0,u.Ab,[e.j,e.p,e.F],null,null),(l()(),e.Rb(-1,0,["Video Library"])),(l()(),e.Bb(15,0,null,null,8,"ion-content",[],null,null,null,b.C,b.f)),e.Ab(16,49152,[[1,4]],0,u.u,[e.j,e.p,e.F],{scrollEvents:[0,"scrollEvents"]},null),(l()(),e.Bb(17,0,null,0,6,"ion-virtual-scroll",[["approxItemHeight","100px"]],null,null,null,b.T,b.w)),e.Ab(18,835584,null,3,u.Db,[e.F,e.x,e.p],{approxItemHeight:[0,"approxItemHeight"],items:[1,"items"],trackBy:[2,"trackBy"]},null),e.Pb(335544320,2,{itmTmp:0}),e.Pb(335544320,3,{hdrTmp:0}),e.Pb(335544320,4,{ftrTmp:0}),(l()(),e.qb(16777216,null,0,1,null,C)),e.Ab(23,16384,[[2,4]],0,u.Mb,[e.S,e.W],null,null)],(function(l,n){var t=n.component;l(n,4,0,"primary","ios"),l(n,8,0,"","home"),l(n,9,0,""),l(n,10,0,"/home"),l(n,11,0,"root"),l(n,16,0,!0),l(n,18,0,"100px",t.dirData,t.trackByFn)}),null)}function B(l){return e.Sb(0,[(l()(),e.Bb(0,0,null,null,1,"app-video-list",[],null,null,null,k,x)),e.Ab(1,114688,null,0,o,[m.c,i.a,e.g],null,null)],(function(l,n){l(n,1,0)}),null)}var w=e.xb("app-video-list",o,B,{},{},[]),A=t("s7LF");t.d(n,"VideoListPageModuleNgFactory",(function(){return P}));var P=e.yb(a,[],(function(l){return e.Kb([e.Lb(512,e.m,e.jb,[[8,[r.a,w,v]],[3,e.m],e.D]),e.Lb(4608,s.k,s.j,[e.z,[2,s.q]]),e.Lb(4608,A.g,A.g,[]),e.Lb(4608,u.b,u.b,[e.F,e.g]),e.Lb(4608,u.Fb,u.Fb,[u.b,e.m,e.w]),e.Lb(4608,u.Ib,u.Ib,[u.b,e.m,e.w]),e.Lb(1073742336,s.b,s.b,[]),e.Lb(1073742336,A.f,A.f,[]),e.Lb(1073742336,A.a,A.a,[]),e.Lb(1073742336,u.Eb,u.Eb,[]),e.Lb(1073742336,c.o,c.o,[[2,c.t],[2,c.m]]),e.Lb(1073742336,a,a,[]),e.Lb(1024,c.k,(function(){return[[{path:"",component:o}]]}),[])])}))}}]);